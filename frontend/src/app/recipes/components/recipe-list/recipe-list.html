<div class="container">
  <h2 class="mb-4">Receitas Populares</h2>
  <div class="row">
    <div *ngFor="let recipe of recipes" class="col-md-4 mb-4">
      <div class="card h-100">
        <img [src]="recipe.pathImg" class="card-img-top" [alt]="recipe.titulo">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">{{ recipe.titulo }}</h5>
          <p class="card-text text-muted mb-2">Por: {{ recipe.autorNome || 'Anônimo' }}</p>
          <p class="card-text">{{ recipe.descricao }}</p>
          <p class="card-text"><small class="text-body-secondary">Ingredientes: {{ recipe.ingredientes }}</small></p>
          <div class="mt-auto d-flex justify-content-between align-items-center">
            <button class="btn btn-primary"
                    (click)="recipe.hasVoted ? onRemoveVote(recipe.id) : onVote(recipe.id)"
                    [disabled]="recipe.isAuthor"> <!-- Changed disabled condition -->
              <ng-container *ngIf="!recipe.hasVoted">
                <i class="bi bi-hand-thumbs-up-fill"></i> Votar
              </ng-container>
              <ng-container *ngIf="recipe.hasVoted">
                <i class="bi bi-hand-thumbs-up"></i> Remover Voto
              </ng-container>
            </button>
            <span *ngIf="recipe.isAuthor" class="ms-2 badge bg-info">Sua receita</span>
            <span *ngIf="recipe.hasVoted" class="ms-2 badge bg-warning">Já votou</span>
            <span class="badge text-bg-success rounded-pill">
  {{ (recipe.totalVotos || 0) }}
  <i class="bi" [class.bi-hand-thumbs-up-fill]="!recipe.hasVoted" [class.bi-hand-thumbs-up]="recipe.hasVoted"></i>
</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>